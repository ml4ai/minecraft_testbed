{
  "definitions": {},
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://asist.aptima.com/schemas/player_compliance.json",
  "type": "object",
  "title": "Cornell ASI Facework Analytic Component",
  "version": "1.0",
  "required": [
    "header",
    "msg",
    "data"
  ],
  "properties": {
    "header": {
      "$ref": "../Common_Header/common_header.json",
      "properties": {         
        "message_type": {
        "$id": "#/properties/message_type",
        "type": "string",
        "title": "The Message_type Schema",
        "const": "agent"
        }
      }
    },
    "msg": {
      "$ref": "../Common_Message/common_message.json",
      "properties": {         
        "sub_type": {
            "$id": "#/properties/sub_type",
            "type": "string",
            "title": "The Sub Type Schema",
            "const": "AC:ASI-facework"
        },
        "source": {
            "$id": "#/properties/source",
            "type": "string",
            "title": "The Source Schema",
            "const": "ac_cornell_ta2_asi-facework"
        }
      }
    },
    "data": {
      "$id": "#/properties/message/properties/data",
      "type": "object",
      "title": "The Cornell ASI Facework Analytic Component Data Schema",
      "required": [
        "elapsed_ms",
        "interventions"
      ],
      "properties": {
        "elapsed_ms": {
          "$id": "#/properties/data/properties/elapsed_ms",
          "type": "number",
          "title": "elapsed time in milliseconds",
          "description": "Time in ms since the start of the mission",
          "examples": [ 10000 ],
          "pattern": "^[0-9]+$"
        },
        "interventions": {
          "$id": "#/properties/data/properties/interventions",
          "type": "object",
          "title": "Interventions by the ASI",
          "description": "",
          "required":[
            "TP : explore_to_triage",
            "AP : forward_status_ask"
          ],
          "properties":
          {
            "TP : explore_to_triage":{
              "$id": "#/properties/data/properties/interventions/properties/explore_to_triage",
              "type": "object",
              "title": "For explore to triage interventions",
              "description": "",
              "required":[
                "Red",
                "Green",
                "Blue"
              ],
              "properties":
              {
                "Red":{
                  "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Red",
                  "type": "object",
                  "title": "For Red player",
                  "description": "",
                  "required":[
                    "n_complied",
                    "n_interventions",
                    "avg_compliance_rate",
                    "recent_n",
                    "threshold",
                    "result" 
                  ],
                  "properties":{
                    "n_complied":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Red/properties/n_complied",
                      "type": "number",
                      "title": "Number of complied interventions",
                      "description": ""
                    },
                    "n_interventions":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Red/properties/n_interventions",
                      "type": "number",
                      "title": "Number of interventions",
                      "description": ""
                    },
                    "avg_compliance_rate":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Red/properties/avg_compliance_rate",
                      "type": "number",
                      "title": "Compliance rate",
                      "description": ""
                    },
                    "recent_n":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Red/properties/recent_n",
                      "type": "number",
                      "title": "Receent number of interventions",
                      "description": ""
                    },
                    "threshold":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Red/properties/threshold",
                      "type": "number",
                      "title": "Threshold value for decision",
                      "description": ""
                    },
                    "result":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Red/properties/result",
                      "type": "string",
                      "title": "Final output on whether the interventon is a face threat to the player",
                      "description": ""
                    }
                    
                    
                  }
                },
                "Green":{
                  "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Green",
                  "type": "object",
                  "title": "For Green player",
                  "description": "",
                  "requiGreen":[
                    "n_complied",
                    "n_interventions",
                    "avg_compliance_rate",
                    "recent_n",
                    "threshold",
                    "result" 
                  ],
                  "properties":{
                    "n_complied":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Green/properties/n_complied",
                      "type": "number",
                      "title": "Number of complied interventions",
                      "description": ""
                    },
                    "n_interventions":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Green/properties/n_interventions",
                      "type": "number",
                      "title": "Number of interventions",
                      "description": ""
                    },
                    "avg_compliance_rate":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Green/properties/avg_compliance_rate",
                      "type": "number",
                      "title": "Compliance rate",
                      "description": ""
                    },
                    "recent_n":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Green/properties/recent_n",
                      "type": "number",
                      "title": "Receent number of interventions",
                      "description": ""
                    },
                    "threshold":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Green/properties/threshold",
                      "type": "number",
                      "title": "Threshold value for decision",
                      "description": ""
                    },
                    "result":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Green/properties/result",
                      "type": "string",
                      "title": "Final output on whether the interventon is a face threat to the player",
                      "description": ""
                    }
                    
                    
                  }
                },
                "Blue":{
                  "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Blue",
                  "type": "object",
                  "title": "For Blue player",
                  "description": "",
                  "requiBlue":[
                    "n_complied",
                    "n_interventions",
                    "avg_compliance_rate",
                    "recent_n",
                    "threshold",
                    "result" 
                  ],
                  "properties":{
                    "n_complied":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Blue/properties/n_complied",
                      "type": "number",
                      "title": "Number of complied interventions",
                      "description": ""
                    },
                    "n_interventions":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Blue/properties/n_interventions",
                      "type": "number",
                      "title": "Number of interventions",
                      "description": ""
                    },
                    "avg_compliance_rate":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Blue/properties/avg_compliance_rate",
                      "type": "number",
                      "title": "Compliance rate",
                      "description": ""
                    },
                    "recent_n":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Blue/properties/recent_n",
                      "type": "number",
                      "title": "Receent number of interventions",
                      "description": ""
                    },
                    "threshold":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Blue/properties/threshold",
                      "type": "number",
                      "title": "Threshold value for decision",
                      "description": ""
                    },
                    "result":{
                      "$id": "#/properties/data/properties/interventions/properties/explore_to_triage/properties/Blue/properties/result",
                      "type": "string",
                      "title": "Final output on whether the interventon is a face threat to the player",
                      "description": ""
                    }
                    
                    
                  }
                }
              }
            },
            "AP : forward_status_ask":{
              "$id": "#/properties/data/properties/interventions/properties/forward_status_ask",
              "type": "object",
              "title": "For explore to triage interventions",
              "description": "",
              "required":[
                "Red",
                "Green",
                "Blue"
              ],
              "properties":
              {
                "Red":{
                  "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Red",
                  "type": "object",
                  "title": "For Red player",
                  "description": "",
                  "required":[
                    "n_complied",
                    "n_interventions",
                    "avg_compliance_rate",
                    "recent_n",
                    "threshold",
                    "result" 
                  ],
                  "properties":{
                    "n_complied":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Red/properties/n_complied",
                      "type": "number",
                      "title": "Number of complied interventions",
                      "description": ""
                    },
                    "n_interventions":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Red/properties/n_interventions",
                      "type": "number",
                      "title": "Number of interventions",
                      "description": ""
                    },
                    "avg_compliance_rate":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Red/properties/avg_compliance_rate",
                      "type": "number",
                      "title": "Compliance rate",
                      "description": ""
                    },
                    "recent_n":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Red/properties/recent_n",
                      "type": "number",
                      "title": "Receent number of interventions",
                      "description": ""
                    },
                    "threshold":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Red/properties/threshold",
                      "type": "number",
                      "title": "Threshold value for decision",
                      "description": ""
                    },
                    "result":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Red/properties/result",
                      "type": "string",
                      "title": "Final output on whether the interventon is a face threat to the player",
                      "description": ""
                    }
                    
                    
                  }
                },
                "Green":{
                  "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Green",
                  "type": "object",
                  "title": "For Green player",
                  "description": "",
                  "requiGreen":[
                    "n_complied",
                    "n_interventions",
                    "avg_compliance_rate",
                    "recent_n",
                    "threshold",
                    "result" 
                  ],
                  "properties":{
                    "n_complied":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Green/properties/n_complied",
                      "type": "number",
                      "title": "Number of complied interventions",
                      "description": ""
                    },
                    "n_interventions":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Green/properties/n_interventions",
                      "type": "number",
                      "title": "Number of interventions",
                      "description": ""
                    },
                    "avg_compliance_rate":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Green/properties/avg_compliance_rate",
                      "type": "number",
                      "title": "Compliance rate",
                      "description": ""
                    },
                    "recent_n":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Green/properties/recent_n",
                      "type": "number",
                      "title": "Receent number of interventions",
                      "description": ""
                    },
                    "threshold":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Green/properties/threshold",
                      "type": "number",
                      "title": "Threshold value for decision",
                      "description": ""
                    },
                    "result":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Green/properties/result",
                      "type": "string",
                      "title": "Final output on whether the interventon is a face threat to the player",
                      "description": ""
                    }
                    
                    
                  }
                },
                "Blue":{
                  "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Blue",
                  "type": "object",
                  "title": "For Blue player",
                  "description": "",
                  "requiBlue":[
                    "n_complied",
                    "n_interventions",
                    "avg_compliance_rate",
                    "recent_n",
                    "threshold",
                    "result" 
                  ],
                  "properties":{
                    "n_complied":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Blue/properties/n_complied",
                      "type": "number",
                      "title": "Number of complied interventions",
                      "description": ""
                    },
                    "n_interventions":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Blue/properties/n_interventions",
                      "type": "number",
                      "title": "Number of interventions",
                      "description": ""
                    },
                    "avg_compliance_rate":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Blue/properties/avg_compliance_rate",
                      "type": "number",
                      "title": "Compliance rate",
                      "description": ""
                    },
                    "recent_n":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Blue/properties/recent_n",
                      "type": "number",
                      "title": "Receent number of interventions",
                      "description": ""
                    },
                    "threshold":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Blue/properties/threshold",
                      "type": "number",
                      "title": "Threshold value for decision",
                      "description": ""
                    },
                    "result":{
                      "$id": "#/properties/data/properties/interventions/properties/forward_status_ask/properties/Blue/properties/result",
                      "type": "string",
                      "title": "Final output on whether the interventon is a face threat to the player",
                      "description": ""
                    }
                    
                    
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
