{
    "definitions": {},
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "http://asist.aptima.com/schemas/text_intervention_object.json",
    "type": "object",
    "title": "The Text Intervention Object Schema",
    "version": "0.1",
    "required": [
        "id",
        "created",
        "start",
        "duration",
        "content",
        "receivers",         
        "renderers",
        "explanation"
    ],
    "properties": {
      "id": {
        "$id": "#/properties/id",
        "type": "string",
        "title": "Unique Text Intervention Id Schema",
        "examples": [ "2daf58ab-f84f-48a6-89fd-c3c5d5558e97" ],
        "pattern": "[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}"
      },
      "created": {
        "$id": "#/properties/created",
        "type": "string",
        "title": "Text Intervention Created Timestamp Schema",
        "examples": [ "2019-12-26T14:05:02.3412Z" ],
        "pattern": "[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}[.]?[0-9]{0,}?Z"
      },
      "agent": {
        "$id": "#/properties/agent",
        "type": "string",
        "title": "Text Intervention agent Schema",
        "examples": [ "TA2-agent" ]
      },
      "start": {
        "$id": "#/properties/start",
        "type": "integer",
        "title": "Text Intervention Start Schema",
        "examples": [-1,
          1205000, 530200
        ]
      },
      "duration": {
        "$id": "#/properties/end",
        "type": "integer",
        "title": "Text Intervention Duration Schema",
        "examples": [
          10000, 19400
        ]
      },
      "content": {
        "$id": "#/properties/content",
        "type": "string",
        "title": "Text Intervention Content String Schema",
        "examples": [
          "Time is running low, you should consider exploring unexplored areas."
        ],
        "pattern": "^(.*)$"
      },
      "type": {
        "$id": "#/properties/type",
        "type": "string",
        "title": "Text Intervention Type Schema",
        "enum":["json", "string", "html"],
        "examples": [
          "string"
        ]
      },        
      "receivers": {
        "$id": "#/properties/receiver",
         "type": "array",
         "items": {
           "type": "string"
          },
        "title": "The Receiver Schema",
        "examples": [
          "P100", "P101"
        ]
      },
      "renderers": {
        "$id": "#/properties/renderer",
        "type": "array",
        "title": "The Renderer Schema",
        "items": {"type":"string",
            "enum":["Minecraft_Chat","Minecraft_Block","Client_Map"]},
        "examples": [
          "Minecraft_Chat","Minecraft_Block","Client_Map"
        ]        
      },
      "explanation": {
        "$id": "#/properties/explanation",
        "type": "object",
        "title": "Explanation Schema",
        "examples": [
          {
            "extra_agent_data":{

              "field0":"data0",

              "field1":{
                "something":"something"
              },

              "field2":{
                "somethingelse":"somethingelse"
              }

            }
          }
        ]
      }
    }
}
